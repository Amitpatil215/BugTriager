{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "## Steps to Reproduce\r\n\r\n1. Create a new live template with some code including one or more variables.\r\n2. Check \"Reformat according to style\" option.\r\n3. Set  live template context to Dart + Flutter\r\n4. In a flutter project invoke the defined template.\r\n\r\nExpected:\r\n- Code appears formatted.\r\n- Editor caret is left at first template variable.\r\n- Template variable is replaced with text typed.\r\n\r\nCurrent behavior:\r\n- Code appears formatted.\r\n- No option to replace template variable is shown\r\n\r\n\r\n## Version info\r\n\r\n[√] Flutter (Channel dev, 2.9.0-0.1.pre, on Microsoft Windows [VersiÃ³n 10.0.19041.746], locale es-ES)\r\n    • Flutter version 2.9.0-0.1.pre at D:\\Apps\\flutter\r\n    • Upstream repository https://github.com/flutter/flutter.git\r\n    • Framework revision 8f1f9c10f0 (2 months ago), 2021-12-14 13:41:48 -0800\r\n    • Engine revision 234aca678a\r\n    • Dart version 2.16.0 (build 2.16.0-80.1.beta)\r\n    • DevTools version 2.9.1\r\n\r\nIntelliJ IDEA 2021.3.2 (Ultimate Edition)\r\nBuild #IU-213.6777.52, built on January 28, 2022\r\nRuntime version: 11.0.13+7-b1751.25 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nWindows 10 10.0\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 3072M\r\nCores: 12\r\nNon-Bundled Plugins:\r\n    com.khmelyuk.multirun (1.13)\r\n    com.intellij.ideolog (203.0.27.0)\r\n    org.jetbrains.kotlin (213-1.6.10-release-961-IJ6777.52)\r\n    com.intellij.guice (213.6461.21)\r\n    com.herbert.george.flutter-snippets (2.0.0-stable-1)\r\n    com.antkorwin.unicoder (1.0)\r\n    com.intellij.javaee.ejb (213.6777.11)\r\n    org.mapstruct.intellij (1.3.1)\r\n    com.jetbrains.plugins.jade (213.5744.223)\r\n    Dart (213.5744.122)\r\n    io.flutter (64.1.4)\r\n    com.ixigua.flutter_asset_iteral (1.7.6)\r\n    com.intellij.jboss.arquillian (213.5744.125)\r\n    zielu.gittoolbox (212.8.5)\r\n    com.haulmont.jpab (2022.1.1-213)\r\n    Karma (213.6461.6)\r\n    Kotlin: 213-1.6.10-release-961-IJ6777.52",
    "closed_at": "2022-04-06T22:43:58Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I don't know what this means\r\n> Set live template context to Dart + Flutter\r\n\r\nCan you elaborate?\r\nDo your variable names have `$` at both beginning and end? What do you see when you click the \"Edit variables\" button?\r\nA screen shot of your template might help.",
            "created_at": "2022-02-25T16:52:41Z",
            "html_url": "https://github.com/flutter/flutter-intellij/issues/5995#issuecomment-1051021815",
            "id": 1051021815,
            "issue_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995",
            "node_id": "IC_kwDOA9MwhM4-pVH3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1051021815/reactions"
            },
            "updated_at": "2022-02-25T16:52:41Z",
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1051021815",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            }
        },
        {
            "author_association": "NONE",
            "body": "Here's template definition:\r\n![image (1)](https://user-images.githubusercontent.com/66470403/155973092-1429484a-3b15-4282-80d8-747b7ba4cd56.png)\r\n![image](https://user-images.githubusercontent.com/66470403/155973095-ac61f65c-c8ec-4ad8-9985-d82d52324205.png)\r\n\r\nWhen \"Reformat according to style\" is unchecked everything works fine, but when this option is checked then no option to replace template variable is shown after invoking the template.\r\n",
            "created_at": "2022-02-28T05:28:13Z",
            "html_url": "https://github.com/flutter/flutter-intellij/issues/5995#issuecomment-1053904984",
            "id": 1053904984,
            "issue_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995",
            "node_id": "IC_kwDOA9MwhM4-0VBY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1053904984/reactions"
            },
            "updated_at": "2022-02-28T11:08:47Z",
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1053904984",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/66470403?v=4",
                "events_url": "https://api.github.com/users/biel73/events{/privacy}",
                "followers_url": "https://api.github.com/users/biel73/followers",
                "following_url": "https://api.github.com/users/biel73/following{/other_user}",
                "gists_url": "https://api.github.com/users/biel73/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/biel73",
                "id": 66470403,
                "login": "biel73",
                "node_id": "MDQ6VXNlcjY2NDcwNDAz",
                "organizations_url": "https://api.github.com/users/biel73/orgs",
                "received_events_url": "https://api.github.com/users/biel73/received_events",
                "repos_url": "https://api.github.com/users/biel73/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/biel73/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/biel73/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/biel73"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks, I can reproduce this problem. I believe it is caused by the formatter changing the text. If you change the inserted text to this then it works:\r\n```dart\r\nimport 'package:flutter/material.dart';\r\n\r\nclass $SCREENNAME$Screen extends StatelessWidget {\r\n  const $SCREENNAME$Screen({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return const Scaffold(\r\n      body: Center(\r\n        child: Text('$SCREENNAME$Screen'),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\nThere are a few minor differences. I added trailing commas to get line breaks preserved. I deleted the blank line after the class declaration. Basically, I made sure the template code was correctly formatted. But you shouldn't have to do that. \r\n\r\nHowever, I'm not sure if we can do anything to fix the problem. The template engine is part of IntelliJ; the Flutter plugin just adds a few templates. All our templates have the reformat option disabled. It also looks like this API is changing since the Java interface we use is now deprecated.",
            "created_at": "2022-02-28T23:10:56Z",
            "html_url": "https://github.com/flutter/flutter-intellij/issues/5995#issuecomment-1054795533",
            "id": 1054795533,
            "issue_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995",
            "node_id": "IC_kwDOA9MwhM4-3ucN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1054795533/reactions"
            },
            "updated_at": "2022-02-28T23:10:56Z",
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1054795533",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We are not going to change anything for live templates. New live templates should not use \"Reformat according to style\". They should be correctly formatted.",
            "created_at": "2022-04-06T22:43:58Z",
            "html_url": "https://github.com/flutter/flutter-intellij/issues/5995#issuecomment-1090886095",
            "id": 1090886095,
            "issue_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995",
            "node_id": "IC_kwDOA9MwhM5BBZnP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1090886095/reactions"
            },
            "updated_at": "2022-04-06T22:43:58Z",
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/comments/1090886095",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995/comments",
    "created_at": "2022-02-25T07:10:31Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-25T16:52:57Z",
            "event": "labeled",
            "id": 6140392846,
            "label": {
                "color": "000000",
                "name": "waiting for customer response"
            },
            "node_id": "LE_lADOA9MwhM5EjWlHzwAAAAFt_vWO",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/events/6140392846"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
                "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
                "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
                "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
                "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/apps/no-response",
                "id": 32965360,
                "login": "no-response[bot]",
                "node_id": "MDM6Qm90MzI5NjUzNjA=",
                "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
                "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
                "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
                "type": "Bot",
                "url": "https://api.github.com/users/no-response%5Bbot%5D"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-28T05:28:17Z",
            "event": "unlabeled",
            "id": 6152163726,
            "label": {
                "color": "000000",
                "name": "waiting for customer response"
            },
            "node_id": "UNLE_lADOA9MwhM5EjWlHzwAAAAFuspGO",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/events/6152163726"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-02-28T23:11:04Z",
            "event": "milestoned",
            "id": 6158104333,
            "milestone": {
                "title": "On Deck"
            },
            "node_id": "MIE_lADOA9MwhM5EjWlHzwAAAAFvDTcN",
            "performed_via_github_app": null,
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/events/6158104333"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8518285?v=4",
                "events_url": "https://api.github.com/users/stevemessick/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevemessick/followers",
                "following_url": "https://api.github.com/users/stevemessick/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevemessick/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevemessick",
                "id": 8518285,
                "login": "stevemessick",
                "node_id": "MDQ6VXNlcjg1MTgyODU=",
                "organizations_url": "https://api.github.com/users/stevemessick/orgs",
                "received_events_url": "https://api.github.com/users/stevemessick/received_events",
                "repos_url": "https://api.github.com/users/stevemessick/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevemessick/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevemessick/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevemessick"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2022-04-06T22:43:58Z",
            "event": "closed",
            "id": 6383931509,
            "node_id": "CE_lADOA9MwhM5EjWlHzwAAAAF8gxB1",
            "performed_via_github_app": null,
            "state_reason": null,
            "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/events/6383931509"
        }
    ],
    "events_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995/events",
    "html_url": "https://github.com/flutter/flutter-intellij/issues/5995",
    "id": 1150118215,
    "labels": [],
    "labels_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 428,
        "created_at": "2016-11-02T16:50:37Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/67586?v=4",
            "events_url": "https://api.github.com/users/pq/events{/privacy}",
            "followers_url": "https://api.github.com/users/pq/followers",
            "following_url": "https://api.github.com/users/pq/following{/other_user}",
            "gists_url": "https://api.github.com/users/pq/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/pq",
            "id": 67586,
            "login": "pq",
            "node_id": "MDQ6VXNlcjY3NTg2",
            "organizations_url": "https://api.github.com/users/pq/orgs",
            "received_events_url": "https://api.github.com/users/pq/received_events",
            "repos_url": "https://api.github.com/users/pq/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/pq/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pq/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/pq"
        },
        "description": "Issues under consideration for upcoming milestones. ",
        "due_on": null,
        "html_url": "https://github.com/flutter/flutter-intellij/milestone/11",
        "id": 2110124,
        "labels_url": "https://api.github.com/repos/flutter/flutter-intellij/milestones/11/labels",
        "node_id": "MDk6TWlsZXN0b25lMjExMDEyNA==",
        "number": 11,
        "open_issues": 251,
        "state": "open",
        "title": "On Deck",
        "updated_at": "2022-09-30T16:42:45Z",
        "url": "https://api.github.com/repos/flutter/flutter-intellij/milestones/11"
    },
    "node_id": "I_kwDOA9MwhM5EjWlH",
    "number": 5995,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995/reactions"
    },
    "repository_url": "https://api.github.com/repos/flutter/flutter-intellij",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995/timeline",
    "title": "Live template with \"Reformat according to style\" option checked not working",
    "updated_at": "2022-04-06T22:43:58Z",
    "url": "https://api.github.com/repos/flutter/flutter-intellij/issues/5995",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/66470403?v=4",
        "events_url": "https://api.github.com/users/biel73/events{/privacy}",
        "followers_url": "https://api.github.com/users/biel73/followers",
        "following_url": "https://api.github.com/users/biel73/following{/other_user}",
        "gists_url": "https://api.github.com/users/biel73/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/biel73",
        "id": 66470403,
        "login": "biel73",
        "node_id": "MDQ6VXNlcjY2NDcwNDAz",
        "organizations_url": "https://api.github.com/users/biel73/orgs",
        "received_events_url": "https://api.github.com/users/biel73/received_events",
        "repos_url": "https://api.github.com/users/biel73/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/biel73/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/biel73/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/biel73"
    }
}